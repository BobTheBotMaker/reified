var reified=function(global,imports){return!function(a,b){function e(){this._events={}}function f(a){a&&(a.delimiter&&(this.delimiter=a.delimiter),a.wildcard&&(this.wildcard=a.wildcard),this.wildcard&&(this.listenerTree={}))}function g(a){this._events={},f.call(this,a)}function h(a,b,c,d){if(!c)return[];var e=[],f,g,i,j,k,l,m,n=b.length,o=b[d],p=b[d+1];if(d===n&&c._listeners){if(typeof c._listeners=="function")return a&&a.push(c._listeners),[c];for(f=0,g=c._listeners.length;f<g;f++)a&&a.push(c._listeners[f]);return[c]}if(o==="*"||o==="**"||c[o]){if(o==="*"){for(i in c)i!=="_listeners"&&c.hasOwnProperty(i)&&(e=e.concat(h(a,b,c[i],d+1)));return e}if(o==="**"){m=d+1===n||d+2===n&&p==="*",m&&c._listeners&&(e=e.concat(h(a,b,c,n)));for(i in c)i!=="_listeners"&&c.hasOwnProperty(i)&&(i==="*"||i==="**"?(c[i]._listeners&&!m&&(e=e.concat(h(a,b,c[i],n))),e=e.concat(h(a,b,c[i],d))):i===p?e=e.concat(h(a,b,c[i],d+2)):e=e.concat(h(a,b,c[i],d)));return e}e=e.concat(h(a,b,c[o],d+1))}j=c["*"],j&&h(a,b,j,d+1),k=c["**"];if(k)if(d<n){k._listeners&&h(a,b,k,n);for(i in k)i!=="_listeners"&&k.hasOwnProperty(i)&&(i===p?h(a,b,k[i],d+2):i===o?h(a,b,k[i],d+1):(l={},l[i]=k[i],h(a,b,{"**":l},d+1)))}else k._listeners?h(a,b,k,n):k["*"]&&k["*"]._listeners&&h(a,b,k["*"],n);return e}function i(a,b){a=typeof a=="string"?a.split(this.delimiter):a.slice();for(var e=0,f=a.length;e+1<f;e++)if(a[e]==="**"&&a[e+1]==="**")return;var g=this.listenerTree,h=a.shift();while(h){g[h]||(g[h]={}),g=g[h];if(a.length===0){if(!g._listeners)g._listeners=b;else if(typeof g._listeners=="function")g._listeners=[g._listeners,b];else if(c(g._listeners)){g._listeners.push(b);if(!g._listeners.warned){var i=d;typeof this._events.maxListeners!="undefined"&&(i=this._events.maxListeners),i>0&&g._listeners.length>i&&(g._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",g._listeners.length),console.trace())}}return!0}h=a.shift()}return!0}imports.events={},Object.defineProperty(a,"exports",{get:function(){return imports.events},set:function(a){imports.events=a}}),a.exports.EventEmitter=g;var c=Array.isArray,d=10;g.prototype.delimiter=".",g.prototype.setMaxListeners=function(a){this._events||e.call(this),this._events.maxListeners=a},g.prototype.event="",g.prototype.once=function(a,b){return this.many(a,1,b),this},g.prototype.many=function(a,b,c){function e(){--b===0&&d.off(a,e),c.apply(this,arguments)}var d=this;if(typeof c!="function")throw new Error("many only accepts instances of Function");return e._origin=c,this.on(a,e),d},g.prototype.emit=function(){this._events||e.call(this);var a=arguments[0];if(a==="newListener"&&!this._events.newListener)return!1;if(this._all){var b=arguments.length,c=Array(b-1);for(var d=1;d<b;d++)c[d-1]=arguments[d];for(d=0,b=this._all.length;d<b;d++)this.event=a,this._all[d].apply(this,c)}if(a==="error"&&!this._all&&!this._events.error&&(!this.wildcard||!this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var f;if(this.wildcard){f=[];var g=typeof a=="string"?a.split(this.delimiter):a.slice();h.call(this,f,g,this.listenerTree,0)}else f=this._events[a];if(typeof f=="function"){this.event=a;if(arguments.length===1)f.call(this);else if(arguments.length>1)switch(arguments.length){case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:var b=arguments.length,c=Array(b-1);for(var d=1;d<b;d++)c[d-1]=arguments[d];f.apply(this,c)}return!0}if(f){var b=arguments.length,c=Array(b-1);for(var d=1;d<b;d++)c[d-1]=arguments[d];var i=f.slice();for(var d=0,b=i.length;d<b;d++)this.event=a,i[d].apply(this,c);return i.length>0||this._all}return this._all},g.prototype.on=function(a,b){if(typeof a=="function")return this.onAny(a),this;if(typeof b!="function")throw new Error("on only accepts instances of Function");this._events||e.call(this),this.emit("newListener",a,b);if(this.wildcard)return i.call(this,a,b),this;if(!this._events[a])this._events[a]=b;else if(typeof this._events[a]=="function")this._events[a]=[this._events[a],b];else if(c(this._events[a])){this._events[a].push(b);if(!this._events[a].warned){var f=d;typeof this._events.maxListeners!="undefined"&&(f=this._events.maxListeners),f>0&&this._events[a].length>f&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}}return this},g.prototype.onAny=function(a){this._all||(this._all=[]);if(typeof a!="function")throw new Error("onAny only accepts instances of Function");return this._all.push(a),this},g.prototype.addListener=g.prototype.on,g.prototype.off=function(a,b){if(typeof b!="function")throw new Error("removeListener only takes instances of Function");var d,e=[];if(this.wildcard){var f=typeof a=="string"?a.split(this.delimiter):a.slice();e=h.call(this,null,f,this.listenerTree,0)}else{if(!this._events[a])return this;d=this._events[a],e.push({_listeners:d})}for(var g=0;g<e.length;g++){var i=e[g];d=i._listeners;if(c(d)){var j=-1;for(var k=0,l=d.length;k<l;k++)if(d[k]===b||d[k].listener&&d[k].listener===b||d[k]._origin&&d[k]._origin===b){j=k;break}if(j<0)return this;this.wildcard?i._listeners.splice(j,1):this._events[a].splice(j,1),d.length===0&&(this.wildcard?delete i._listeners:delete this._events[a])}else if(d===b||d.listener&&d.listener===b||d._origin&&d._origin===b)this.wildcard?delete i._listeners:delete this._events[a]}return this},g.prototype.offAny=function(a){var b=0,c=0,d;if(a&&this._all&&this._all.length>0){d=this._all;for(b=0,c=d.length;b<c;b++)if(a===d[b])return d.splice(b,1),this}else this._all=[];return this},g.prototype.removeListener=g.prototype.off,g.prototype.removeAllListeners=function(a){if(arguments.length===0)return!this._events||e.call(this),this;if(this.wildcard){var b=typeof a=="string"?a.split(this.delimiter):a.slice(),c=h.call(this,null,b,this.listenerTree,0);for(var d=0;d<c.length;d++){var f=c[d];f._listeners=null}}else{if(!this._events[a])return this;this._events[a]=null}return this},g.prototype.listeners=function(a){if(this.wildcard){var b=[],d=typeof a=="string"?a.split(this.delimiter):a.slice();return h.call(this,b,d,this.listenerTree,0),b}return this._events||e.call(this),this._events[a]||(this._events[a]=[]),c(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]},g.prototype.listenersAny=function(){return this._all?this._all:[]}}({},function(a){return imports[a]}),!function(a,b){function c(a){return Object(a)===a}function d(a){return Math.log(a)/Math.LN2}function e(a){return(d(a)/8|0)+1}function f(a,b){var c=Array((b||2)+1).join(" ");return a.split("\n").map(function(a){return c+a}).join("\n")}function g(a,b){return b-=h(a||"")+1,a+Array(b>1?b:1).join(" ")}function h(a){return a.replace(/\033\[(?:\d+;)*\d+m/g,"").length}function i(a){if(!Array.isArray(a)){if(!c(a))throw new TypeError("Max length called on non-object "+a);a=Object.keys(a)}return a.reduce(function(a,b){return Math.max(a,h(""+b))},0)}function j(a){return Object.keys(a.reduce(function(a,b){return a[b]=1,a},{}))}imports["./utility"]={},Object.defineProperty(a,"exports",{get:function(){return imports["./utility"]},set:function(a){imports["./utility"]=a}}),"use strict",a.exports={isObject:c,bytes:e,bits:d,indent:f,pad:g,maxLength:i,unique:j,strlen:h}}({},function(a){return imports[a]}),!function(a,b){function f(a){return a instanceof ArrayBuffer||!!(a&&a.constructor&&a.constructor.name in e)}function g(a,b,c){if(!g.prototype.isPrototypeOf(this))return new g(a,b,c);if(!a)throw new Error("Tried to initialize with no usable length or subject");f(a)&&(this.array=a);if(a.buffer){b=(a.offset||a.byteOffset||0)+(b||0);while(a.buffer)a=a.buffer}typeof a=="number"?this.view=new DataView(new d(a)):d.isBuffer(a)?this.view=new DataView(a,b,c):a instanceof DataView?(b=b||a.byteOffset,c=c||a.byteLength,this.view=new DataView(a.buffer,b,c)):g.isDataBuffer(a)&&(this.view=new DataView(a.buffer,a.offset+b,c||a.length)),this.length=this.view.byteLength,this.buffer=this.view.buffer,this.offset=this.view.byteOffset}function h(a){return isFinite(a)?+a:0}function i(a){if(isFinite(a))return+a}function j(a){return a>>>0&255}imports["./buffer"]={},Object.defineProperty(a,"exports",{get:function(){return imports["./buffer"]},set:function(a){imports["./buffer"]=a}}),"use strict",a.exports=g;var c=["Int8","Int16","Int32","Uint8","Uint16","Uint32","Float32","Float64"],d=function(a){function b(a,b,c){return new ArrayBuffer(a,b,c)}return"Buffer"in a?a.Buffer:(b.isBuffer=function(a){return a instanceof ArrayBuffer},b)}(Function("return this")()),e={ArrayBuffer:ArrayBuffer};g.isBuffer=d.isBuffer,g.isDataBuffer=function(a){return g.prototype.isPrototypeOf(a)},g.prototype={constructor:g,endianness:"LE",subarray:function(a,b){return a=h(a),b=i(b),new g(this.view,a,b)},typed:function(a,b,c){return a=e[a+"Array"],b=h(b),c=h(c)||this.length/a.BYTES_PER_ELEMENT|0,new a(this.view,b,c)},copy:function(a,b,c,e){isFinite(a)&&(e=c,c=b,b=a,a=null),b=h(b),c=h(c),e=e?+e:this.length-1;if(c>e)throw new Error("End less than start");if(c<0)throw new RangeError("Start less than zero");if(e>=this.length)throw new RangeError("End greater than length");var f=e-c;a?b+f>a.length&&(f=a.length):a=new d(f),a=(new g(a,b,f)).typed("Uint8");var i=this.subarray(c,e).typed("Uint8");for(var j=0;j<f;j++)a[j]=i[j];return a},clone:function(){var a=new g(new d(this.length));for(var b=0;b<this.length;b++)a.writeUint8(b,this.readUint8(b));return a},fill:function(a){a=h(a);var b=this.typed("Uint8");for(var c=0;c<this.length;c++)b[c]=a},write:function(a,b,c){c=isFinite(c)?+c:a.length,b=isFinite(b)?+b:0,c=Math.min(this.length,c+b,a.length);var d=this.subarray(b,b.length).typed("Uint8");for(var e=0;e<c;e++)d[e]=a[e];return this},map:function(){return[].map.apply(this.typed("Uint8"),arguments)},slice:function(a,b,c){return this.subarray(a,b).toString(c||"ascii")},toArray:function(a){return[].map.call(this.typed(a||"Uint8"),function(a){return a})},toString:function(a){switch(a){case"ascii":return this.map(function(a){return String.fromCharCode(a)}).join("");default:return this.map(function(a){return("000"+a.toString(10)).slice(-3)}).join(" ").split(/((?:\d\d\d ?){10}(?: ))/).filter(Boolean).map(Function.call.bind("".trim)).join("\n")}}},c.forEach(function(a){e[a+"Array"]=global[a+"Array"],g.prototype["read"+a]=function(b){return this.view["get"+a](h(b),this.endianness==="LE")},g.prototype["write"+a]=function(b,c){return this.view["set"+a](h(b),h(c),this.endianness==="LE")}}),Array.apply(null,Array(20)).forEach(function(a,b){Object.defineProperty(g.prototype,b,{configurable:!0,get:function(){return this.readUint8(b)},set:function(a){return this.writeUint8(b,a)}})})}({},function(a){return imports[a]}),!function(module,require){function api(a,b,c){Object(b)===b?Object.keys(b).forEach(function(c){api(a,c,b[c])}):(hidden.value=c,Object.defineProperty(a,b,hidden))}function registerType(a,b){return a in types?types[a]:a.length?types[a]=b:b}function lookupType(a,b){if(typeof a=="string"){if(a[a.length-1]==="]"){var c=a.match(/(.*)\[(\d+)\]$/);if(c){var d=require("./array"),e=require("./string");a=c[1],c=+c[2];if(a==="Char")return new e(c);if(typeof b=="string")return new d(b,lookupType(a),c);if(f==="Char")return new e(c);var f=lookupType(a);return f===a?new d(a,c):(a=f.name+"x"+c,new d(a,f,c))}}return a in types?types[a]:a}return a}function Type(ctor,proto){ctor.prototype=eval("(function Empty"+ctor.name.replace(/Type$/,"T")+"(){})"),hasProto?ctor.prototype.__proto__=Type:copy(Type,ctor.prototype),ctor.prototype.Type=ctor.name,ctor.prototype.constructor=ctor,typeof imports=="undefined"&&(ctor.prototype.inspect=require("./inspect")("Type",ctor.name),proto.inspect=require("./inspect")("Data",ctor.name)),ctor.prototype.prototype=copy(proto,Object.create(Data))}function createInterface(a,b,c){b=b.replace(/[^\w0-9_$]/g,"");var d=Function(b+"Constructor","return function "+b+"(data, offset, values){ return new "+b+"Constructor(data, offset, values) }")(c);return hidden.value=function(b){return c.prototype.constructor=createInterface(a,b,c)},Object.defineProperty(d,"rename",hidden),hasProto?d.__proto__=a.prototype:copy(a,d),d.prototype=c.prototype,b&&registerType(b,d),copy(c,d)}function Subtype(a,b,c){return c.bytes=b,c.prototype.bytes=b,c.prototype=copy(c.prototype,Object.create(this.prototype.prototype)),c.prototype.constructor=createInterface(this,a,c)}function copy(a,b,c){return Object[c?"getOwnPropertyNames":"keys"](a).forEach(function(c){var d=Object.getOwnPropertyDescriptor(a,c);d.enumerable=!1,Object.defineProperty(b,c,d)}),b}imports["./genesis"]={},Object.defineProperty(module,"exports",{get:function(){return imports["./genesis"]},set:function(a){imports["./genesis"]=a}}),"use strict";var DataBuffer=require("./buffer"),utility=require("./utility"),isObject=utility.isObject,EventEmitter=require("events").EventEmitter,hasProto=!!Function.__proto__,types={};module.exports={Type:Type,Subtype:Subtype,lookupType:lookupType,registerType:registerType,types:types,isBuffer:function(a){return DataBuffer.isBuffer(a)||DataBuffer.isDataBuffer(a)},api:api,nullable:function(a,b){Object.defineProperty(a,b,nullable),delete a[b]}};var nullable={value:undefined,writable:!0,configurable:!0},hidden={configurable:!0,writable:!0,value:0};copy({Class:"Type",toString:function toString(){return"[object "+this.name+"Type]"},array:function(a){return new(require("./array"))(this,a)},isInstance:function(a){return this.prototype.isPrototypeOf(a)}},Type),Array.apply(null,Array(20)).forEach(function(a,b){Object.defineProperty(Type,b,{configurable:!0,get:function(){return this.array(b)}})});var Data=Type.prototype={__proto__:EventEmitter.prototype,Class:"Data",toString:function toString(){return"[object "+this.constructor.name+"]"},rebase:function(a){a==null?(a=new DataBuffer(this.bytes),a.fill(0)):a._data?a=new DataBuffer(a._data):a=new DataBuffer(a),api(this,"_data",a)},realign:function(a){this._offset=+a||0},clone:function(){return new this.constructor(this._data,this._offset)},copy:function(a,b){return new this.constructor(this._data.clone())},cast:function(a,b){if(typeof (a=lookupType(a))=="string")throw new TypeError('Unknown type "'+a+'"');if(a.bytes<this.bytes)throw new RangeError('Tried to cast to a smaller size "'+a.name+'"');if(this._data.length<a.bytes)throw new RangeError('Type is bigger than this buffer: "'+a.name+'"');return b=a.bytes===this.bytes||!b?0:b<0?this.bytes-a.bytes:+b,new a(this._data,this._offset+b)}}}({},function(a){return imports[a]}),!function(a,b){function g(a,b){if(b&&b.DataType){if(b.DataType==="numeric"&&b.Subtype==="Int64"||b.Subtype==="Uint64"){if(a==="Int64"||a==="Uint64")return b._data;throw new RangeError(b+" exceeds "+a+" capacity")}if(b.DataType==="array"||b.DataType==="struct"){if(b.bytes>f[a][0])throw new RangeError(b+" exceeds "+a+" capacity");b=b.reify()}else b=b.reify()}b||(b=0),typeof b=="undefined"&&(b=0);if(isFinite(b))b=+b;else throw new TypeError("Invalid value for "+a+": "+b.DataType);if(b&&c(b)/8>f[a][0])throw new RangeError(b+" exceeds "+a+" capacity");return b}function h(a,b){function c(a,b,c){if(typeof a=="number"||!a)c=a,a=null;this.rebase(a),d.api(this,"_offset",+b||0),c!=null&&this.write(c),this.emit("construct")}return c.prototype={Subtype:a,write:function(b){return this._data["write"+a](this._offset,g(a,b)),this},reify:function(b){var c=this.reified=this._data["read"+a](this._offset);return this.emit("reify",c),c=this.reified,delete this.reified,c}},e(a,b,c)}imports["./numeric"]={},Object.defineProperty(a,"exports",{get:function(){return imports["./numeric"]},set:function(a){imports["./numeric"]=a}}),"use strict";var c=b("./utility").bits,d=b("./genesis"),e=d.Subtype.bind(h);a.exports=h;var f={Int8:1,Uint8:1,Int16:2,Uint16:2,Int32:4,Uint32:4,Float32:4,Float64:8};d.Type(h,{DataType:"numeric",fill:function(a){this.write(0,a||0)}}),Object.keys(f).forEach(function(a){h[a]=new h(a,f[a])})}({},function(a){return imports[a]}),!function(a,b){function f(a,b){function j(a,c,e){d.isBuffer(a)||(e=a,a=null),this.rebase(a),d.api(this,"_offset",+c||0),e&&Object.keys(e).forEach(function(a){if(!a in b)throw new Error('Invalid field "'+a+'"');a in b&&g(this,j,a).write(e[a])},this),this.emit("construct")}b||(b=a,a="");var c=0,f={},i=[];return b=Object.keys(b).reduce(function(a,e){return a[e]=d.lookupType(b[e]),i.push(e),f[e]=c,c+=a[e].bytes,a},{}),j.fields=b,j.offsets=f,j.keys=i,h(e(a,c,j))}function g(a,b,c){var e=new b.fields[c](a._data,a._offset+b.offsets[c]);return Object.defineProperty(a,c,{enumerable:!0,configurable:!0,get:function(){return e},set:function(a){a===null?(this.emit("deallocate",c),d.nullable(this,c),e=null):e.write(a)}}),e}function h(a){return a.keys.forEach(function(b){Object.defineProperty(a.prototype,b,{enumerable:!0,configurable:!0,get:function(){return g(this,a,b)},set:function(c){g(this,a,b).write(c)}})}),a}imports["./struct"]={},Object.defineProperty(a,"exports",{get:function(){return imports["./struct"]},set:function(a){imports["./struct"]=a}}),"use strict";var c=b("./utility").isObject,d=b("./genesis"),e=d.Subtype.bind(f);a.exports=f,d.Type(f,{DataType:"struct",reify:function(a){this.reified=this.constructor.keys.reduce(function(b,c){return b[c]=this[c]==null?g(this,this.constructor,c).reify(a):this[c].reify(a),a&&(this[c]=null),b}.bind(this),{}),this.emit("reify",this.reified);var b=this.reified;return delete this.reified,b},write:function(a){c(a)&&(a.reify&&(a=a.reify()),Object.keys(a).forEach(function(b,c){c=a[b],c!=null?this[b]=c.reify?c.reify():c:c===null&&(this[b]=null)},this))},realign:function(a,b){this._offset=a=+a||0,Object.keys(this).forEach(function(c){b?this[c]=null:this[c].realign(a)},this)},fill:function(a){a=a||0,this.constructor.keys.forEach(function(b){this[b]=a},this)}})}({},function(a){return imports[a]}),!function(a,b){function e(a,b,e){function i(a,b,d){c.isBuffer(a)||(d=a,a=null),this.rebase(a),c.api(this,"_offset",b||0),d&&Object.keys(d).forEach(function(a){f(this,this.constructor.memberType,a).write(d[a])},this),this.emit("construct")}typeof a!="string"||typeof b=="number"?(e=b||0,b=c.lookupType(a),a=b.name+"x"+e):b=c.lookupType(b);if(c.lookupType(a)!==a)return c.lookupType(a);var h=b.bytes*e;return i.memberType=b,i.keys=Array.apply(null,Array(e)).map(Function.call.bind(String)),i.count=e,i.prototype.length=e,g(d(a,h,i))}function f(a,b,d){var e=new b(a._data,a._offset+d*b.bytes);return Object.defineProperty(a,d,{enumerable:!0,configurable:!0,get:function(){return e},set:function(a){a===null?(this.emit("deallocate",d),c.nullable(this,d),e=null):e.write(a)}}),e}function g(a){return Array.apply(null,Array(a.count)).forEach(function(b,c){Object.defineProperty(a.prototype,c,{enumerable:!0,configurable:!0,get:function(){return f(this,a.memberType,c)},set:function(b){f(this,a.memberType,c).write(b)}})}),a}imports["./array"]={},Object.defineProperty(a,"exports",{get:function(){return imports["./array"]},set:function(a){imports["./array"]=a}}),"use strict";var c=b("./genesis"),d=c.Subtype.bind(e);a.exports=e,c.Type(e,{DataType:"array",forEach:Array.prototype.forEach,reduce:Array.prototype.reduce,map:Array.prototype.map,reify:function(a){this.reified=[];for(var b=0;b<this.length;b++)this.reified[b]=this[b].reify(a),a&&(this[b]=null);this.emit("reify",this.reified);var c=this.reified;return delete this.reified,c},write:function(a,b,c){if(a==null)throw new TypeError("Tried to write nothing");if(isFinite(b)&&typeof c=="undefined"&&!a.length)return this[b]=a;b=+b||0,c=+c||0,a=a.reify?a.reify():a;if(a&&a.length)for(var b;b<this.length&&b+c<a.length;b++)a[c+b]===null?this[b]=null:this[b]=a[c+b];else this[b]=c?a[c]:a},fill:function(a){a=a||0;for(var b=0;b<this.length;b++)this[b]=a},realign:function(a,b){this._offset=a=+a||0,Object.keys(this).forEach(function(c){isFinite(c)&&(b?this[c]=null:this[c].realign(a))},this)}})}({},function(a){return imports[a]}),!function(a,b){function i(a,b,c){function f(a,b,c){d.isBuffer(a)||(c=a||0,a=null),this.rebase(a),d.api(this,"_offset",+b||0),Array.isArray(c)?c.forEach(function(a){this[a]=!0},this):typeof c=="number"?this.write(c):Object(c)===c&&Object.keys(c).forEach(function(a){this[a]=c[a]},this),this.emit("construct")}return typeof a!="string"&&(c=b,b=a,a=""),typeof b=="number"&&(c=b,b=[]),Array.isArray(b)&&(b=b.reduce(function(a,b,c){return a[b]=1<<c,a},{})),c>0||(c=e(k(b))),f.keys=b,f.prototype={flags:b,length:c*8,toString:function(){return this===f.prototype?"[object "+a+"]":this.map(function(a){return+a}).join("")}},j(g(a,c,f))}function j(a){var b=0;return Object.keys(a.keys).forEach(function(c){var d=a.keys[c];b=Math.max(b,d),Object.defineProperty(a.prototype,c,{configurable:!0,enumerable:!0,get:function(){return(this.read()&d)>0},set:function(a){this.write(a?this.read()|d:this.read()&~d)}})}),Array.apply(null,Array(a.bytes*8)).forEach(function(c,d){var e=h[d];if(e>b)return;Object.defineProperty(a.prototype,d,{configurable:!0,enumerable:!0,get:function(){return(this.read()&e)>0},set:function(a){this.write(a?this.read()|e:this.read()&~e)}})}),a}function k(a){return Array.isArray(a)?a.reduce(function(a,b){return Math.max(b,a)},0):Object.keys(a).reduce(function(b,c){return Math.max(a[c],b)},0)}imports["./bitfield"]={},Object.defineProperty(a,"exports",{get:function(){return imports["./bitfield"]},set:function(a){imports["./bitfield"]=a}}),"use strict";var c=b("./utility"),d=b("./genesis"),e=c.bytes,f=c.bits,g=d.Subtype.bind(i),h=Array.apply(null,Array(32)).map(Function.call.bind(Number)).map(Math.pow.bind(null,2));a.exports=i,d.Type(i,{DataType:"bitfield",forEach:Array.prototype.forEach,reduce:Array.prototype.reduce,map:Array.prototype.map,get:function(a){return(this.read()&h[a])>0},set:function(a){return this.write(this.read()|h[a]),this},unset:function(a){return this.write(this.read()&~h[a]),this},write:function(a){return this._data["writeUint"+this.bytes*8](this._offset,a),this},read:function(){return this._data["readUint"+this.bytes*8](this._offset)},reify:function(a){var b=Object.keys(this.flags);if(b.length)var c=this.reified=b.reduce(function(a,b,c){return this[b]&&a.push(b),a}.bind(this),[]);else var c=this.map(function(a){return a});return this.emit("reify",c),c=this.reified,delete this.reified,a&&(this.emit("deallocate"),delete this._data,delete this._offset),c}})}({},function(a){return imports[a]}),!function(a,b){function k(a,b,d,e){a=c.lookupType(a);if(k.prototype.isPrototypeOf(this))return new a(b,d,e);b=c.lookupType(b);if(!b)return!a||a.name!=="CharArrayT",a;if(b==="Char")return new i(a);if(typeof a=="string"&&b.Class==="Type")return b.rename(a);if(typeof b=="string"||b.Class==="Type")return new k.ArrayType(a,b,d);if(typeof a=="undefined")console.log(b);else return Array.isArray(b)||typeof b=="number"?new k.BitfieldType(a,b,d):(typeof a!="string"&&typeof b=="undefined"&&(b=a,a=""),b=Object.keys(b).reduce(function(a,c){if(b[c].Class!=="Type"){var d=k(b[c]);if(!d)return a;typeof d=="string"||d.Class!=="Type"?a[c]=k(c,b[c]):a[c]=d}else a[c]=b[c];return a},{}),new k.StructType(a,b))}function l(a,b){return!m(a,b).length}function m(a,b){return a.filter(function(a){return!~b.indexOf(a)})}function o(){return new n(this._data,this._offset)}imports["./index"]={},Object.defineProperty(a,"exports",{get:function(){return imports["./index"]},set:function(a){imports["./index"]=a}});var c=b("./genesis"),d=b("./buffer"),e=b("./numeric"),f=b("./struct"),g=b("./array"),h=b("./bitfield"),i=b("./string"),j=b("./pointer");a.exports=k,k.data=function(a,b,d,e){a=c.lookupType(a);if(typeof a=="string")throw new TypeError('Type not found "'+a+'"');return new a(b,d,e)},k.reify=function(a){return Object.getPrototypeOf(a).reify.call(a)},k.isType=function(a){return c.Type.isPrototypeOf(a)},k.isData=function(a){return c.Type.prototype.isPrototypeOf(a)},Object.defineProperty(k,"defaultEndian",{enumerable:!0,configurable:!0,get:function(){return d.prototype.endianness},set:function(a){if(a!=="LE"&&a!=="BE")throw new Error('Endianness must be "BE" or "LE"');d.prototype.endianness=a}}),c.api(k,{Type:c.Type,NumericType:e,StructType:f,ArrayType:g,BitfieldType:h,DataBuffer:d,CharType:i,PointerType:j,toString:function(){return"◤▼▼▼▼▼▼▼◥\n▶reified◀\n◣▲▲▲▲▲▲▲◢"}}),e.Uint64=new g("Uint64","Uint32",2),e.Int64=new g("Int64","Int32",2);var n=new g("EightByteOctetString","Uint8",8);e.Uint64.prototype.octets=o,e.Int64.prototype.octets=o;var p=new d(50);p.write(Array.apply(null,Array(50)).map(function(a,b){return b*3}));var q=k("RGB",{R:"Uint8",G:"Uint8",B:"Uint8"}),r=new j("RGB[10]"),s=new r(p);s.setRelative(20),console.log(s)}({},function(a){return imports[a]}),imports["./index"]}(this,{});typeof module!="undefined"&&(module.exports=reified),"use strict",function(a){function d(a,d,e,g,h){g===undefined&&f("Missing required offset argument"),(g<0||g+e>a.byteLength)&&f("Invalid index: "+g);if(e===1||!!h===b){if((a.byteOffset+g)%e===0)return(new d(a.buffer,a.byteOffset+g,1))[0];for(var i=0;i<e;i++)c[i]=a._bytes[g+i];return(new d(c.buffer))[0]}for(var i=0;i<e;i++)c[e-i-1]=a._bytes[g+i];return(new d(c.buffer))[0]}function e(a,d,e,g,h,i){g===undefined&&f("Missing required offset argument"),h===undefined&&f("Missing required value argument"),(g<0||g+e>a.byteLength)&&f("Invalid index: "+g);if(e===1||!!i===b)if((a.byteOffset+g)%e===0)(new d(a.buffer,a.byteOffset+g,1))[0]=h;else{(new d(c.buffer))[0]=h;for(var j=0;j<e;j++)a._bytes[j+g]=c[j]}else{(new d(c.buffer))[0]=h;for(var j=0;j<e;j++)a._bytes[g+j]=c[e-1-j]}}function f(a){throw new Error(a)}if(a.DataView)return;a.ArrayBuffer||f("ArrayBuffer not supported"),Object.defineProperties||f("This module requires ECMAScript 5");var b=(new Int8Array((new Int32Array([1])).buffer))[0]===1,c=new Uint8Array(8);a.DataView=function(a,b,c){a instanceof ArrayBuffer||f("Bad ArrayBuffer"),b=b||0,c=c||a.byteLength-b,(b<0||c<0||b+c>a.byteLength)&&f("Illegal offset and/or length"),Object.defineProperties(this,{buffer:{value:a,enumerable:!1,writable:!1,configurable:!1},byteOffset:{value:b,enumerable:!1,writable:!1,configurable:!1},byteLength:{value:c,enumerable:!1,writable:!1,configurable:!1},_bytes:{value:new Uint8Array(a,b,c),enumerable:!1,writable:!1,configurable:!1}})},a.DataView.prototype={constructor:DataView,getInt8:function(a){return d(this,Int8Array,1,a)},getUint8:function(a){return d(this,Uint8Array,1,a)},getInt16:function(a,b){return d(this,Int16Array,2,a,b)},getUint16:function(a,b){return d(this,Uint16Array,2,a,b)},getInt32:function(a,b){return d(this,Int32Array,4,a,b)},getUint32:function(a,b){return d(this,Uint32Array,4,a,b)},getFloat32:function(a,b){return d(this,Float32Array,4,a,b)},getFloat64:function(a,b){return d(this,Float64Array,8,a,b)},setInt8:function(a,b){e(this,Int8Array,1,a,b)},setUint8:function(a,b){e(this,Uint8Array,1,a,b)},setInt16:function(a,b,c){e(this,Int16Array,2,a,b,c)},setUint16:function(a,b,c){e(this,Uint16Array,2,a,b,c)},setInt32:function(a,b,c){e(this,Int32Array,4,a,b,c)},setUint32:function(a,b,c){e(this,Uint32Array,4,a,b,c)},setFloat32:function(a,b,c){e(this,Float32Array,4,a,b,c)},setFloat64:function(a,b,c){e(this,Float64Array,8,a,b,c)}}}(this)